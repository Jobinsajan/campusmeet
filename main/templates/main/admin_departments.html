{% extends 'main/base_admin.html' %}

{% block title %}Manage Departments{% endblock %}

{% block extra_css %}
<style>
    .table-container {
        max-width: 900px;
        margin: 30px auto;
        padding: 20px 30px;
        background: #fff;
        border-radius: 12px;
        box-shadow: 0 8px 24px rgba(149, 157, 165, 0.2);
        transition: box-shadow 0.3s ease-in-out;
    }
    .table-container:hover {
        box-shadow: 0 12px 40px rgba(149, 157, 165, 0.3);
    }
    h1 {
        font-weight: 700;
        color: #343a40;
        margin-bottom: 25px;
        text-transform: uppercase;
        letter-spacing: 2px;
        text-align: center;
    }
    .btn {
        font-weight: 600;
        letter-spacing: 1px;
    }
</style>
{% endblock %}

{% block content %}
<div class="table-container">
    <div class="d-flex justify-content-between align-items-center mb-4">
        <h1 class="h3">Departments</h1>
        <a href="{% url 'admin_add_department' %}" class="btn btn-success">Add Department</a>
    </div>

    <table class="table table-striped table-bordered align-middle">
        <thead class="table-dark">
            <tr>
                <th scope="col">ID</th>
                <th scope="col">Name</th>
                <th scope="col" style="width: 140px;">Actions</th>
            </tr>
        </thead>
        <tbody>
            {% for dept in departments %}
            <tr>
                <td>{{ dept.id }}</td>
                <td>{{ dept.name }}</td>
                <td>
                    <a href="{% url 'admin_edit_department' dept.id %}" class="btn btn-primary btn-sm me-1" title="Edit Department">
                        <i class="bi bi-pencil"></i> Edit
                    </a>
                    <a href="{% url 'admin_delete_department' dept.id %}" class="btn btn-danger btn-sm" title="Delete Department">
                        <i class="bi bi-trash"></i> Delete
                    </a>
                </td>
            </tr>
            {% empty %}
            <tr>
                <td colspan="3" class="text-center fst-italic">No departments found.</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
{% endblock %}

{% block extra_js %}
<script src="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.min.js"></script>
{% endblock %}
